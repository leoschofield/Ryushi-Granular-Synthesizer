ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Granulator.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy6SwitchD2Ev,"axG",%progbits,_ZN5daisy6SwitchD5Ev,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy6SwitchD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy6SwitchD2Ev:
  27              	.LVL0:
  28              	.LFB1605:
  29              		.file 1 "../../libDaisy//src/hid/switch.h"
   1:../../libDaisy//src/hid/switch.h **** #pragma once
   2:../../libDaisy//src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy//src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy//src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy//src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy//src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy//src/hid/switch.h **** 
   8:../../libDaisy//src/hid/switch.h **** namespace daisy
   9:../../libDaisy//src/hid/switch.h **** {
  10:../../libDaisy//src/hid/switch.h **** /** 
  11:../../libDaisy//src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy//src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../../libDaisy//src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy//src/hid/switch.h ****     @date December 2019
  15:../../libDaisy//src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy//src/hid/switch.h **** */
  17:../../libDaisy//src/hid/switch.h **** class Switch
  18:../../libDaisy//src/hid/switch.h **** {
  19:../../libDaisy//src/hid/switch.h ****   public:
  20:../../libDaisy//src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy//src/hid/switch.h ****     enum Type
  22:../../libDaisy//src/hid/switch.h ****     {
  23:../../libDaisy//src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy//src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy//src/hid/switch.h ****     };
  26:../../libDaisy//src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy//src/hid/switch.h ****     enum Polarity
  28:../../libDaisy//src/hid/switch.h ****     {
  29:../../libDaisy//src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 2


  30:../../libDaisy//src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy//src/hid/switch.h ****     };
  32:../../libDaisy//src/hid/switch.h **** 
  33:../../libDaisy//src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy//src/hid/switch.h ****     enum Pull
  35:../../libDaisy//src/hid/switch.h ****     {
  36:../../libDaisy//src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy//src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy//src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy//src/hid/switch.h ****     };
  40:../../libDaisy//src/hid/switch.h **** 
  41:../../libDaisy//src/hid/switch.h ****     Switch() {}
  42:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
  30              		.loc 1 42 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 42 16 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
  38              	.LFE1605:
  40              		.weak	_ZN5daisy6SwitchD1Ev
  41              		.thumb_set _ZN5daisy6SwitchD1Ev,_ZN5daisy6SwitchD2Ev
  42 0002 00BF     		.section	.text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev,"axG",%progbits,_ZN5daisy8patch_sm12DaisyPatch
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv5-d16
  51              	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev:
  52              	.LVL1:
  53              	.LFB2528:
  54              		.file 2 "../../libDaisy//src/daisy_patch_sm.h"
   1:../../libDaisy//src/daisy_patch_sm.h **** #pragma once
   2:../../libDaisy//src/daisy_patch_sm.h **** 
   3:../../libDaisy//src/daisy_patch_sm.h **** #include "daisy.h"
   4:../../libDaisy//src/daisy_patch_sm.h **** 
   5:../../libDaisy//src/daisy_patch_sm.h **** namespace daisy
   6:../../libDaisy//src/daisy_patch_sm.h **** {
   7:../../libDaisy//src/daisy_patch_sm.h **** namespace patch_sm
   8:../../libDaisy//src/daisy_patch_sm.h **** {
   9:../../libDaisy//src/daisy_patch_sm.h ****     /** Accessors for the Analog Controls. 
  10:../../libDaisy//src/daisy_patch_sm.h ****      *  These cover the 8x Bipolar CV inputs
  11:../../libDaisy//src/daisy_patch_sm.h ****      *  as well as the 4x 0-3V3 ADC inputs on
  12:../../libDaisy//src/daisy_patch_sm.h ****      *  the hardware 
  13:../../libDaisy//src/daisy_patch_sm.h ****      * 
  14:../../libDaisy//src/daisy_patch_sm.h ****      *  When reading a value with DaisyPatchSM::GetAdcValue()
  15:../../libDaisy//src/daisy_patch_sm.h ****      * 
  16:../../libDaisy//src/daisy_patch_sm.h ****      *  patch.GetAdcValue(patch_sm::CV_1);
  17:../../libDaisy//src/daisy_patch_sm.h ****      */
  18:../../libDaisy//src/daisy_patch_sm.h ****     enum
  19:../../libDaisy//src/daisy_patch_sm.h ****     {
  20:../../libDaisy//src/daisy_patch_sm.h ****         CV_1 = 0,
  21:../../libDaisy//src/daisy_patch_sm.h ****         CV_2,
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 3


  22:../../libDaisy//src/daisy_patch_sm.h ****         CV_3,
  23:../../libDaisy//src/daisy_patch_sm.h ****         CV_4,
  24:../../libDaisy//src/daisy_patch_sm.h ****         CV_5,
  25:../../libDaisy//src/daisy_patch_sm.h ****         CV_6,
  26:../../libDaisy//src/daisy_patch_sm.h ****         CV_7,
  27:../../libDaisy//src/daisy_patch_sm.h ****         CV_8,
  28:../../libDaisy//src/daisy_patch_sm.h ****         ADC_9,
  29:../../libDaisy//src/daisy_patch_sm.h ****         ADC_10,
  30:../../libDaisy//src/daisy_patch_sm.h ****         ADC_11,
  31:../../libDaisy//src/daisy_patch_sm.h ****         ADC_12,
  32:../../libDaisy//src/daisy_patch_sm.h ****         ADC_LAST,
  33:../../libDaisy//src/daisy_patch_sm.h ****     };
  34:../../libDaisy//src/daisy_patch_sm.h **** 
  35:../../libDaisy//src/daisy_patch_sm.h ****     /** Enum for addressing the CV Outputs via the WriteCvOut function. */
  36:../../libDaisy//src/daisy_patch_sm.h ****     enum
  37:../../libDaisy//src/daisy_patch_sm.h ****     {
  38:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_BOTH = 0,
  39:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_1,
  40:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_2,
  41:../../libDaisy//src/daisy_patch_sm.h ****     };
  42:../../libDaisy//src/daisy_patch_sm.h **** 
  43:../../libDaisy//src/daisy_patch_sm.h **** 
  44:../../libDaisy//src/daisy_patch_sm.h ****     /** @brief Board support file for DaisyPatchSM hardware
  45:../../libDaisy//src/daisy_patch_sm.h ****      *  @author shensley
  46:../../libDaisy//src/daisy_patch_sm.h ****      *  @ingroup boards
  47:../../libDaisy//src/daisy_patch_sm.h ****      * 
  48:../../libDaisy//src/daisy_patch_sm.h ****      *  Daisy Patch SM is a complete Eurorack module DSP engine.
  49:../../libDaisy//src/daisy_patch_sm.h ****      *  Based on the Daisy Seed, with circuits added for 
  50:../../libDaisy//src/daisy_patch_sm.h ****      *  interfacing directly with eurorack modular synthesizers.
  51:../../libDaisy//src/daisy_patch_sm.h ****      */
  52:../../libDaisy//src/daisy_patch_sm.h ****     class DaisyPatchSM
  53:../../libDaisy//src/daisy_patch_sm.h ****     {
  54:../../libDaisy//src/daisy_patch_sm.h ****       public:
  55:../../libDaisy//src/daisy_patch_sm.h ****         /** Helper for mapping pins, and accessing them using the `GetPin` function */
  56:../../libDaisy//src/daisy_patch_sm.h ****         enum class PinBank
  57:../../libDaisy//src/daisy_patch_sm.h ****         {
  58:../../libDaisy//src/daisy_patch_sm.h ****             A,
  59:../../libDaisy//src/daisy_patch_sm.h ****             B,
  60:../../libDaisy//src/daisy_patch_sm.h ****             C,
  61:../../libDaisy//src/daisy_patch_sm.h ****             D
  62:../../libDaisy//src/daisy_patch_sm.h ****         };
  63:../../libDaisy//src/daisy_patch_sm.h **** 
  64:../../libDaisy//src/daisy_patch_sm.h ****         DaisyPatchSM() {}
  65:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
  55              		.loc 2 65 9 is_stmt 1 view -0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59              		@ link register save eliminated.
  60              	.LBB120:
  61              	.LBI120:
  62              		.file 3 "../../libDaisy//src/hid/gatein.h"
   1:../../libDaisy//src/hid/gatein.h **** #pragma once
   2:../../libDaisy//src/hid/gatein.h **** #ifndef DSY_GATEIN_H
   3:../../libDaisy//src/hid/gatein.h **** #define DSY_GATEIN_H
   4:../../libDaisy//src/hid/gatein.h **** #include "per/gpio.h"
   5:../../libDaisy//src/hid/gatein.h **** 
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 4


   6:../../libDaisy//src/hid/gatein.h **** namespace daisy
   7:../../libDaisy//src/hid/gatein.h **** {
   8:../../libDaisy//src/hid/gatein.h **** /**
   9:../../libDaisy//src/hid/gatein.h ****    @brief Generic Class for handling gate inputs through GPIO.
  10:../../libDaisy//src/hid/gatein.h ****    @author Stephen Hensley
  11:../../libDaisy//src/hid/gatein.h ****    @date    March 2020
  12:../../libDaisy//src/hid/gatein.h ****    @ingroup controls
  13:../../libDaisy//src/hid/gatein.h **** */
  14:../../libDaisy//src/hid/gatein.h **** class GateIn
  15:../../libDaisy//src/hid/gatein.h **** {
  16:../../libDaisy//src/hid/gatein.h ****   public:
  17:../../libDaisy//src/hid/gatein.h ****     /** GateIn 
  18:../../libDaisy//src/hid/gatein.h ****     Constructor 
  19:../../libDaisy//src/hid/gatein.h ****     */
  20:../../libDaisy//src/hid/gatein.h ****     GateIn() {}
  21:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
  22:../../libDaisy//src/hid/gatein.h ****     Destructor 
  23:../../libDaisy//src/hid/gatein.h ****     */
  24:../../libDaisy//src/hid/gatein.h ****     ~GateIn() {}
  63              		.loc 3 24 5 view .LVU3
  64              		.loc 3 24 5 is_stmt 0 view .LVU4
  65              	.LBE120:
  66              	.LBB121:
  67              	.LBI121:
  68              		.loc 3 24 5 is_stmt 1 view .LVU5
  69              		.loc 3 24 5 is_stmt 0 view .LVU6
  70              	.LBE121:
  71              	.LBB122:
  72              	.LBI122:
  73              		.file 4 "../../libDaisy//src/dev/codec_pcm3060.h"
   1:../../libDaisy//src/dev/codec_pcm3060.h **** #pragma once
   2:../../libDaisy//src/dev/codec_pcm3060.h **** #ifndef DSY_CODEC_PCM3060_H
   3:../../libDaisy//src/dev/codec_pcm3060.h **** #define DSY_CODEC_PCM3060_H
   4:../../libDaisy//src/dev/codec_pcm3060.h **** #include "per/i2c.h"
   5:../../libDaisy//src/dev/codec_pcm3060.h **** namespace daisy
   6:../../libDaisy//src/dev/codec_pcm3060.h **** {
   7:../../libDaisy//src/dev/codec_pcm3060.h **** /**
   8:../../libDaisy//src/dev/codec_pcm3060.h ****  * @brief Driver for the TI PCM3060 Audio Codec.
   9:../../libDaisy//src/dev/codec_pcm3060.h ****  * @addtogroup codec
  10:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  11:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now this is a limited interface that uses I2C to communicate with the PCM3060
  12:../../libDaisy//src/dev/codec_pcm3060.h ****  * The device can also be accessed with SPI, which is not yet supported.
  13:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  14:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now all registers are set to their defaults, and the Init function will 
  15:../../libDaisy//src/dev/codec_pcm3060.h ****  * perform a MRST and SRST before setting the format to 24bit LJ, and disabling 
  16:../../libDaisy//src/dev/codec_pcm3060.h ****  * power save for both the ADC and DAC.
  17:../../libDaisy//src/dev/codec_pcm3060.h ****  *
  18:../../libDaisy//src/dev/codec_pcm3060.h ****  */
  19:../../libDaisy//src/dev/codec_pcm3060.h **** class Pcm3060
  20:../../libDaisy//src/dev/codec_pcm3060.h **** {
  21:../../libDaisy//src/dev/codec_pcm3060.h ****   public:
  22:../../libDaisy//src/dev/codec_pcm3060.h ****     enum class Result
  23:../../libDaisy//src/dev/codec_pcm3060.h ****     {
  24:../../libDaisy//src/dev/codec_pcm3060.h ****         OK,
  25:../../libDaisy//src/dev/codec_pcm3060.h ****         ERR,
  26:../../libDaisy//src/dev/codec_pcm3060.h ****     };
  27:../../libDaisy//src/dev/codec_pcm3060.h **** 
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 5


  28:../../libDaisy//src/dev/codec_pcm3060.h ****     Pcm3060() {}
  29:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
  74              		.loc 4 29 5 is_stmt 1 view .LVU7
  75              		.loc 4 29 5 is_stmt 0 view .LVU8
  76              	.LBE122:
  77              	.LBB123:
  78              	.LBI123:
  79              		.file 5 "../../libDaisy//src/hid/usb.h"
   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  80              		.loc 5 42 5 is_stmt 1 view .LVU9
  81              		.loc 5 42 5 is_stmt 0 view .LVU10
  82              	.LBE123:
  83              	.LBB124:
  84              	.LBI124:
  85              		.file 6 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 6


   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  44:../../libDaisy//src/per/adc.h ****      */
  45:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../../libDaisy//src/per/adc.h **** 
  47:../../libDaisy//src/per/adc.h ****     /** 
  48:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  55:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  58:../../libDaisy//src/per/adc.h ****     */
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 7


  59:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../../libDaisy//src/per/adc.h ****                  size_t       mux_channels,
  61:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../libDaisy//src/per/adc.h **** 
  65:../../libDaisy//src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../libDaisy//src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
  67:../../libDaisy//src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../libDaisy//src/per/adc.h **** };
  69:../../libDaisy//src/per/adc.h **** 
  70:../../libDaisy//src/per/adc.h **** /**
  71:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../libDaisy//src/per/adc.h **** */
  73:../../libDaisy//src/per/adc.h **** class AdcHandle
  74:../../libDaisy//src/per/adc.h **** {
  75:../../libDaisy//src/per/adc.h ****   public:
  76:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../libDaisy//src/per/adc.h ****     enum OverSampling
  78:../../libDaisy//src/per/adc.h ****     {
  79:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  81:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  82:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
  83:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
  84:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
  85:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
  86:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
  87:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
  88:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
  89:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../libDaisy//src/per/adc.h ****     };
  91:../../libDaisy//src/per/adc.h **** 
  92:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
  93:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  86              		.loc 6 93 5 is_stmt 1 view .LVU11
  87              		.loc 6 93 5 is_stmt 0 view .LVU12
  88              	.LBE124:
  89              	.LBB125:
  90              	.LBI125:
  91              		.file 7 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 8


  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 9


  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  92              		.loc 7 96 5 is_stmt 1 view .LVU13
  93              		.loc 7 96 5 is_stmt 0 view .LVU14
  94              	.LBE125:
  95              	.LBB126:
  96              	.LBI126:
  97              		.file 8 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 10


  29:../../libDaisy//src/sys/system.h ****         };
  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../libDaisy//src/sys/system.h ****      * 
  63:../../libDaisy//src/sys/system.h ****      */
  64:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  65:../../libDaisy//src/sys/system.h ****     {
  66:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  68:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  70:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  71:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  72:../../libDaisy//src/sys/system.h ****         SDRAM,
  73:../../libDaisy//src/sys/system.h ****         QSPI,
  74:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  75:../../libDaisy//src/sys/system.h ****     };
  76:../../libDaisy//src/sys/system.h **** 
  77:../../libDaisy//src/sys/system.h ****     System() {}
  78:../../libDaisy//src/sys/system.h ****     ~System() {}
  98              		.loc 8 78 5 is_stmt 1 view .LVU15
  99              		.loc 8 78 5 is_stmt 0 view .LVU16
 100              	.LBE126:
 101              		.loc 2 65 26 view .LVU17
 102 0000 7047     		bx	lr
 103              		.cfi_endproc
 104              	.LFE2528:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 11


 106              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
 107              		.thumb_set _ZN5daisy8patch_sm12DaisyPatchSMD1Ev,_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
 108 0002 00BF     		.section	.text._Z17calculateEnvelopeii,"ax",%progbits
 109              		.align	1
 110              		.p2align 2,,3
 111              		.global	_Z17calculateEnvelopeii
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 115              		.fpu fpv5-d16
 117              	_Z17calculateEnvelopeii:
 118              	.LVL2:
 119              	.LFB4783:
 120              		.file 9 "Granulator.cpp"
   1:Granulator.cpp **** #include "daisy_patch_sm.h"
   2:Granulator.cpp **** #include "daisysp.h"
   3:Granulator.cpp **** 
   4:Granulator.cpp **** #define MAX_DELAY static_cast<size_t>(44100 * 1.f)
   5:Granulator.cpp **** #define NUM_GRAINS 1
   6:Granulator.cpp **** using namespace daisy;
   7:Granulator.cpp **** using namespace patch_sm;
   8:Granulator.cpp **** using namespace daisysp;
   9:Granulator.cpp **** 
  10:Granulator.cpp **** struct Grain
  11:Granulator.cpp **** {
  12:Granulator.cpp ****     bool triggered;
  13:Granulator.cpp ****     unsigned long int attack;
  14:Granulator.cpp ****     unsigned long int decay;
  15:Granulator.cpp ****     signed long int sample_counter;
  16:Granulator.cpp ****     signed long int length;
  17:Granulator.cpp ****     signed long int write_pos;
  18:Granulator.cpp ****     signed long int read_pos;
  19:Granulator.cpp ****     signed long int offset;
  20:Granulator.cpp **** };
  21:Granulator.cpp **** 
  22:Granulator.cpp **** DaisyPatchSM patch;
  23:Granulator.cpp **** Switch       button;
  24:Granulator.cpp **** // Grain        grains[NUM_GRAINS];
  25:Granulator.cpp **** 
  26:Granulator.cpp **** Grain grain; 
  27:Granulator.cpp **** float DSY_SDRAM_BSS grain_buffer_l[MAX_DELAY];
  28:Granulator.cpp **** float DSY_SDRAM_BSS grain_buffer_r[MAX_DELAY];
  29:Granulator.cpp **** 
  30:Granulator.cpp **** // float DSY_SDRAM_BSS grain_buffers_l[NUM_GRAINS][MAX_DELAY];
  31:Granulator.cpp **** // float DSY_SDRAM_BSS grain_buffers_r[NUM_GRAINS][MAX_DELAY];
  32:Granulator.cpp **** 
  33:Granulator.cpp **** float DSY_SDRAM_BSS buffer_l[MAX_DELAY];
  34:Granulator.cpp **** float DSY_SDRAM_BSS buffer_r[MAX_DELAY];
  35:Granulator.cpp **** 
  36:Granulator.cpp **** 
  37:Granulator.cpp **** // Calculate the envelope value for a given sample position
  38:Granulator.cpp **** float calculateEnvelope(int numSamples, int currentSample) 
  39:Granulator.cpp **** {
 121              		.loc 9 39 1 is_stmt 1 view -0
 122              		.cfi_startproc
 123              		@ args = 0, pretend = 0, frame = 0
 124              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 12


 125              		@ link register save eliminated.
  40:Granulator.cpp ****     if (numSamples <= 0 || currentSample < 0 || currentSample >= numSamples) 
 126              		.loc 9 40 5 view .LVU19
 127              		.loc 9 40 46 is_stmt 0 view .LVU20
 128 0000 21EAE173 		bic	r3, r1, r1, asr #31
 129 0004 8342     		cmp	r3, r0
 130 0006 14DA     		bge	.L8
 131 0008 0029     		cmp	r1, #0
 132 000a 12DB     		blt	.L8
 133              	.LVL3:
 134              	.LBB132:
 135              	.LBI132:
  38:Granulator.cpp **** {
 136              		.loc 9 38 7 is_stmt 1 view .LVU21
 137              	.LBB133:
  41:Granulator.cpp ****     {
  42:Granulator.cpp ****         return 1.0; // Default to full volume
  43:Granulator.cpp ****     }
  44:Granulator.cpp **** 
  45:Granulator.cpp ****     // Calculate the envelope value (ranging from 0 to 1) based on the current sample position
  46:Granulator.cpp ****     float envelope = 1.0; // Default to full volume
 138              		.loc 9 46 5 view .LVU22
  47:Granulator.cpp **** 
  48:Granulator.cpp ****     if (currentSample < grain.attack) 
 139              		.loc 9 48 5 view .LVU23
 140              	.LBB134:
 141              		.loc 9 48 31 is_stmt 0 view .LVU24
 142 000c 104A     		ldr	r2, .L10
 143 000e 5368     		ldr	r3, [r2, #4]
 144              		.loc 9 48 5 view .LVU25
 145 0010 8B42     		cmp	r3, r1
 146 0012 0AD9     		bls	.L6
  49:Granulator.cpp ****     {
  50:Granulator.cpp ****         // Apply attack envelope for the first part
  51:Granulator.cpp ****         envelope = (float)currentSample / grain.attack;
 147              		.loc 9 51 9 is_stmt 1 view .LVU26
 148              		.loc 9 51 20 is_stmt 0 view .LVU27
 149 0014 07EE901A 		vmov	s15, r1	@ int
 150              		.loc 9 51 41 view .LVU28
 151 0018 07EE103A 		vmov	s14, r3	@ int
 152              		.loc 9 51 20 view .LVU29
 153 001c F8EEE77A 		vcvt.f32.s32	s15, s15
 154              		.loc 9 51 41 view .LVU30
 155 0020 B8EE477A 		vcvt.f32.u32	s14, s14
 156              		.loc 9 51 18 view .LVU31
 157 0024 87EE870A 		vdiv.f32	s0, s15, s14
 158              	.LVL4:
 159              		.loc 9 51 18 view .LVU32
 160 0028 7047     		bx	lr
 161              	.LVL5:
 162              	.L6:
 163              		.loc 9 51 18 view .LVU33
 164              	.LBE134:
 165              	.LBE133:
 166              	.LBE132:
  52:Granulator.cpp ****     } 
  53:Granulator.cpp ****     else if (currentSample > numSamples - grain.decay) 
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 13


 167              		.loc 9 53 10 is_stmt 1 view .LVU34
 168              	.LBB142:
 169              	.LBB140:
 170              	.LBB138:
 171              	.LBB135:
 172              		.loc 9 53 49 is_stmt 0 view .LVU35
 173 002a 9368     		ldr	r3, [r2, #8]
 174              		.loc 9 53 41 view .LVU36
 175 002c C21A     		subs	r2, r0, r3
 176              		.loc 9 53 10 view .LVU37
 177 002e 9142     		cmp	r1, r2
 178 0030 02D8     		bhi	.L9
 179              	.LVL6:
 180              	.L8:
 181              		.loc 9 53 10 view .LVU38
 182              	.LBE135:
 183              	.LBE138:
 184              	.LBE140:
 185              	.LBE142:
  42:Granulator.cpp ****     }
 186              		.loc 9 42 16 view .LVU39
 187 0032 B7EE000A 		vmov.f32	s0, #1.0e+0
  54:Granulator.cpp ****     {
  55:Granulator.cpp ****         // Apply decay envelope for the last part
  56:Granulator.cpp ****         int decayStart = numSamples - grain.decay;
  57:Granulator.cpp ****         envelope = (float)(numSamples - currentSample) / grain.decay;
  58:Granulator.cpp ****     }
  59:Granulator.cpp **** 
  60:Granulator.cpp ****     return envelope;
  61:Granulator.cpp **** }
 188              		.loc 9 61 1 view .LVU40
 189 0036 7047     		bx	lr
 190              	.LVL7:
 191              	.L9:
 192              	.LBB143:
 193              	.LBB141:
 194              	.LBB139:
 195              	.LBB137:
 196              	.LBB136:
  56:Granulator.cpp ****         envelope = (float)(numSamples - currentSample) / grain.decay;
 197              		.loc 9 56 9 is_stmt 1 view .LVU41
  57:Granulator.cpp ****     }
 198              		.loc 9 57 9 view .LVU42
  57:Granulator.cpp ****     }
 199              		.loc 9 57 56 is_stmt 0 view .LVU43
 200 0038 07EE903A 		vmov	s15, r3	@ int
  57:Granulator.cpp ****     }
 201              		.loc 9 57 39 view .LVU44
 202 003c 411A     		subs	r1, r0, r1
 203              	.LVL8:
  57:Granulator.cpp ****     }
 204              		.loc 9 57 56 view .LVU45
 205 003e B8EE677A 		vcvt.f32.u32	s14, s15
  57:Granulator.cpp ****     }
 206              		.loc 9 57 20 view .LVU46
 207 0042 07EE901A 		vmov	s15, r1	@ int
 208 0046 F8EEE77A 		vcvt.f32.s32	s15, s15
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 14


  57:Granulator.cpp ****     }
 209              		.loc 9 57 18 view .LVU47
 210 004a 87EE870A 		vdiv.f32	s0, s15, s14
 211              	.LVL9:
  57:Granulator.cpp ****     }
 212              		.loc 9 57 18 view .LVU48
 213              	.LBE136:
 214 004e 7047     		bx	lr
 215              	.L11:
 216              		.align	2
 217              	.L10:
 218 0050 00000000 		.word	.LANCHOR0
 219              	.LBE137:
 220              	.LBE139:
 221              	.LBE141:
 222              	.LBE143:
 223              		.cfi_endproc
 224              	.LFE4783:
 226              		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 227              		.align	1
 228              		.p2align 2,,3
 229              		.global	_Z13AudioCallbackPKPKfPPfj
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu fpv5-d16
 235              	_Z13AudioCallbackPKPKfPPfj:
 236              	.LVL10:
 237              	.LFB4784:
  62:Granulator.cpp **** 
  63:Granulator.cpp **** 
  64:Granulator.cpp **** 
  65:Granulator.cpp **** void AudioCallback(AudioHandle::InputBuffer  in,
  66:Granulator.cpp ****                    AudioHandle::OutputBuffer out,
  67:Granulator.cpp ****                    size_t                    size)
  68:Granulator.cpp **** {
 238              		.loc 9 68 1 is_stmt 1 view -0
 239              		.cfi_startproc
 240              		@ args = 0, pretend = 0, frame = 0
 241              		@ frame_needed = 0, uses_anonymous_args = 0
  69:Granulator.cpp ****     static int button_pressed = 0;
 242              		.loc 9 69 5 view .LVU50
  70:Granulator.cpp ****     static int interval = 0;
 243              		.loc 9 70 5 view .LVU51
  71:Granulator.cpp ****     static long int sample_counter = 0;
 244              		.loc 9 71 5 view .LVU52
  72:Granulator.cpp ****     static signed long int write_pos = 0;
 245              		.loc 9 72 5 view .LVU53
  73:Granulator.cpp ****     static signed long int read_pos = 0;
 246              		.loc 9 73 5 view .LVU54
  74:Granulator.cpp ****     static signed long int offset = 0;
 247              		.loc 9 74 5 view .LVU55
  75:Granulator.cpp ****     
  76:Granulator.cpp ****     patch.ProcessAllControls();
 248              		.loc 9 76 5 view .LVU56
 249              	.LBB144:
 250              	.LBI144:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 15


  66:../../libDaisy//src/daisy_patch_sm.h **** 
  67:../../libDaisy//src/daisy_patch_sm.h ****         /** Initializes the memories, and core peripherals for the Daisy Patch SM */
  68:../../libDaisy//src/daisy_patch_sm.h ****         void Init();
  69:../../libDaisy//src/daisy_patch_sm.h **** 
  70:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts a non-interleaving audio callback */
  71:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::AudioCallback cb);
  72:../../libDaisy//src/daisy_patch_sm.h **** 
  73:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts an interleaving audio callback */
  74:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  75:../../libDaisy//src/daisy_patch_sm.h **** 
  76:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  77:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  78:../../libDaisy//src/daisy_patch_sm.h ****          */
  79:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  80:../../libDaisy//src/daisy_patch_sm.h **** 
  81:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  82:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  83:../../libDaisy//src/daisy_patch_sm.h ****          */
  84:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  85:../../libDaisy//src/daisy_patch_sm.h **** 
  86:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the transmission of audio. */
  87:../../libDaisy//src/daisy_patch_sm.h ****         void StopAudio();
  88:../../libDaisy//src/daisy_patch_sm.h **** 
  89:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the number of samples processed in an audio callback. 
  90:../../libDaisy//src/daisy_patch_sm.h ****          *  This will only take effect on the next invocation of `StartAudio`
  91:../../libDaisy//src/daisy_patch_sm.h ****          */
  92:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioBlockSize(size_t size);
  93:../../libDaisy//src/daisy_patch_sm.h **** 
  94:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the samplerate for the audio engine 
  95:../../libDaisy//src/daisy_patch_sm.h ****          *  This will set it to the closest valid samplerate. Options being:
  96:../../libDaisy//src/daisy_patch_sm.h ****          *  8kHz, 16kHz, 32kHz, 48kHz, and 96kHz
  97:../../libDaisy//src/daisy_patch_sm.h ****          */
  98:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(float sr);
  99:../../libDaisy//src/daisy_patch_sm.h **** 
 100:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(SaiHandle::Config::SampleRate sample_rate);
 101:../../libDaisy//src/daisy_patch_sm.h **** 
 102:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the number of samples processed in an audio callback */
 103:../../libDaisy//src/daisy_patch_sm.h ****         size_t AudioBlockSize();
 104:../../libDaisy//src/daisy_patch_sm.h **** 
 105:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the audio engine's samplerate in Hz */
 106:../../libDaisy//src/daisy_patch_sm.h ****         float AudioSampleRate();
 107:../../libDaisy//src/daisy_patch_sm.h **** 
 108:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the rate at which the audio callback will be called in Hz */
 109:../../libDaisy//src/daisy_patch_sm.h ****         float AudioCallbackRate();
 110:../../libDaisy//src/daisy_patch_sm.h **** 
 111:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts the Control ADCs 
 112:../../libDaisy//src/daisy_patch_sm.h ****          * 
 113:../../libDaisy//src/daisy_patch_sm.h ****          *  This is started automatically when Init() is called.
 114:../../libDaisy//src/daisy_patch_sm.h ****          */
 115:../../libDaisy//src/daisy_patch_sm.h ****         void StartAdc();
 116:../../libDaisy//src/daisy_patch_sm.h **** 
 117:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the Control ADCs */
 118:../../libDaisy//src/daisy_patch_sm.h ****         void StopAdc();
 119:../../libDaisy//src/daisy_patch_sm.h **** 
 120:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and filters all of the analog control inputs */
 121:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAnalogControls();
 122:../../libDaisy//src/daisy_patch_sm.h **** 
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 16


 123:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and debounces any of the digital control inputs 
 124:../../libDaisy//src/daisy_patch_sm.h ****          *  This does nothing on this board at this time.
 125:../../libDaisy//src/daisy_patch_sm.h ****          */
 126:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessDigitalControls();
 127:../../libDaisy//src/daisy_patch_sm.h **** 
 128:../../libDaisy//src/daisy_patch_sm.h ****         /** Does both of the above */
 129:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAllControls()
 251              		.loc 2 129 14 view .LVU57
 252              	.LBB145:
 130:../../libDaisy//src/daisy_patch_sm.h ****         {
 131:../../libDaisy//src/daisy_patch_sm.h ****             ProcessAnalogControls();
 253              		.loc 2 131 13 view .LVU58
 254              	.LBE145:
 255              	.LBE144:
  68:Granulator.cpp ****     static int button_pressed = 0;
 256              		.loc 9 68 1 is_stmt 0 view .LVU59
 257 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 258              		.cfi_def_cfa_offset 24
 259              		.cfi_offset 4, -24
 260              		.cfi_offset 5, -20
 261              		.cfi_offset 6, -16
 262              		.cfi_offset 7, -12
 263              		.cfi_offset 8, -8
 264              		.cfi_offset 14, -4
 265 0004 0646     		mov	r6, r0
 266              	.LBB148:
 267              	.LBB146:
 268              		.loc 2 131 34 view .LVU60
 269 0006 5948     		ldr	r0, .L27
 270              	.LVL11:
 271              		.loc 2 131 34 view .LVU61
 272              	.LBE146:
 273              	.LBE148:
  68:Granulator.cpp ****     static int button_pressed = 0;
 274              		.loc 9 68 1 view .LVU62
 275 0008 0D46     		mov	r5, r1
  77:Granulator.cpp ****     button.Debounce();
  78:Granulator.cpp **** 
  79:Granulator.cpp ****     grain.length = patch.GetAdcValue(CV_1)*44100;
 276              		.loc 9 79 18 view .LVU63
 277 000a 594C     		ldr	r4, .L27+4
  80:Granulator.cpp **** 
  81:Granulator.cpp ****     interval = patch.GetAdcValue(CV_2)*64;
 278              		.loc 9 81 14 view .LVU64
 279 000c 594F     		ldr	r7, .L27+8
  68:Granulator.cpp ****     static int button_pressed = 0;
 280              		.loc 9 68 1 view .LVU65
 281 000e 2DED028B 		vpush.64	{d8}
 282              		.cfi_def_cfa_offset 32
 283              		.cfi_offset 80, -32
 284              		.cfi_offset 81, -28
 285              	.LBB149:
 286              	.LBB147:
 287              		.loc 2 131 34 view .LVU66
 288 0012 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
 289              	.LVL12:
 132:../../libDaisy//src/daisy_patch_sm.h ****             ProcessDigitalControls();
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 17


 290              		.loc 2 132 13 is_stmt 1 view .LVU67
 291              		.loc 2 132 35 is_stmt 0 view .LVU68
 292 0016 5548     		ldr	r0, .L27
 293 0018 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
 294              	.LVL13:
 295              		.loc 2 132 35 view .LVU69
 296              	.LBE147:
 297              	.LBE149:
  77:Granulator.cpp **** 
 298              		.loc 9 77 5 is_stmt 1 view .LVU70
  77:Granulator.cpp **** 
 299              		.loc 9 77 20 is_stmt 0 view .LVU71
 300 001c 5648     		ldr	r0, .L27+12
 301 001e FFF7FEFF 		bl	_ZN5daisy6Switch8DebounceEv
 302              	.LVL14:
  79:Granulator.cpp **** 
 303              		.loc 9 79 5 is_stmt 1 view .LVU72
  79:Granulator.cpp **** 
 304              		.loc 9 79 37 is_stmt 0 view .LVU73
 305 0022 0021     		movs	r1, #0
 306 0024 5148     		ldr	r0, .L27
 307 0026 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 308              	.LVL15:
  79:Granulator.cpp **** 
 309              		.loc 9 79 43 view .LVU74
 310 002a DFED547A 		vldr.32	s15, .L27+16
 311              		.loc 9 81 33 view .LVU75
 312 002e 0121     		movs	r1, #1
 313 0030 4E48     		ldr	r0, .L27
  79:Granulator.cpp **** 
 314              		.loc 9 79 43 view .LVU76
 315 0032 20EE270A 		vmul.f32	s0, s0, s15
  82:Granulator.cpp **** 
  83:Granulator.cpp ****     grain.attack = patch.GetAdcValue(CV_3)*3000;
 316              		.loc 9 83 43 view .LVU77
 317 0036 9FED528A 		vldr.32	s16, .L27+20
  79:Granulator.cpp **** 
 318              		.loc 9 79 18 view .LVU78
 319 003a BDEEC00A 		vcvt.s32.f32	s0, s0
 320 003e 84ED040A 		vstr.32	s0, [r4, #16]	@ int
  81:Granulator.cpp **** 
 321              		.loc 9 81 5 is_stmt 1 view .LVU79
  81:Granulator.cpp **** 
 322              		.loc 9 81 33 is_stmt 0 view .LVU80
 323 0042 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 324              	.LVL16:
  81:Granulator.cpp **** 
 325              		.loc 9 81 14 view .LVU81
 326 0046 BEEECD0A 		vcvt.s32.f32	s0, s0, #6
 327              		.loc 9 83 37 view .LVU82
 328 004a 0221     		movs	r1, #2
 329 004c 4748     		ldr	r0, .L27
  81:Granulator.cpp **** 
 330              		.loc 9 81 14 view .LVU83
 331 004e 87ED000A 		vstr.32	s0, [r7]	@ int
 332              		.loc 9 83 5 is_stmt 1 view .LVU84
 333              		.loc 9 83 37 is_stmt 0 view .LVU85
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 18


 334 0052 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 335              	.LVL17:
 336              		.loc 9 83 43 view .LVU86
 337 0056 20EE080A 		vmul.f32	s0, s0, s16
  84:Granulator.cpp **** 
  85:Granulator.cpp ****     grain.decay = patch.GetAdcValue(CV_4)*3000;
 338              		.loc 9 85 36 view .LVU87
 339 005a 0321     		movs	r1, #3
 340 005c 4348     		ldr	r0, .L27
  83:Granulator.cpp **** 
 341              		.loc 9 83 18 view .LVU88
 342 005e BCEEC00A 		vcvt.u32.f32	s0, s0
 343 0062 84ED010A 		vstr.32	s0, [r4, #4]	@ int
 344              		.loc 9 85 5 is_stmt 1 view .LVU89
 345              		.loc 9 85 36 is_stmt 0 view .LVU90
 346 0066 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 347              	.LVL18:
  86:Granulator.cpp **** 
  87:Granulator.cpp ****     // patch.WriteCvOut(2, (time_knob*5));
  88:Granulator.cpp ****     // out[0][0] = in[0][0]; 
  89:Granulator.cpp ****     // out[1][0] = in[1][0]; 
  90:Granulator.cpp ****     //--- Write Head --- Always writing 
  91:Granulator.cpp **** 
  92:Granulator.cpp ****     if(write_pos > MAX_DELAY - 1) // stop overflow
 348              		.loc 9 92 8 view .LVU91
 349 006a 464A     		ldr	r2, .L27+24
  85:Granulator.cpp **** 
 350              		.loc 9 85 42 view .LVU92
 351 006c 20EE080A 		vmul.f32	s0, s0, s16
 352              		.loc 9 92 5 view .LVU93
 353 0070 4AF64341 		movw	r1, #44099
 354              		.loc 9 92 8 view .LVU94
 355 0074 1368     		ldr	r3, [r2]
  85:Granulator.cpp **** 
 356              		.loc 9 85 17 view .LVU95
 357 0076 BCEEC00A 		vcvt.u32.f32	s0, s0
 358              		.loc 9 92 5 view .LVU96
 359 007a 8B42     		cmp	r3, r1
  85:Granulator.cpp **** 
 360              		.loc 9 85 17 view .LVU97
 361 007c 84ED020A 		vstr.32	s0, [r4, #8]	@ int
 362              		.loc 9 92 5 is_stmt 1 view .LVU98
 363 0080 70D8     		bhi	.L22
  93:Granulator.cpp ****     {
  94:Granulator.cpp ****         write_pos = 0;
  95:Granulator.cpp ****     }
  96:Granulator.cpp **** 
  97:Granulator.cpp ****     // offset = write_pos ;//- 4400; //TODO 10000 is selectable array offset (delay time)
  98:Granulator.cpp ****     // if(offset < 0)
  99:Granulator.cpp ****     // {
 100:Granulator.cpp ****     //     // patch.WriteCvOut(2, (5.f));
 101:Granulator.cpp ****     //     read_pos = offset + MAX_DELAY;
 102:Granulator.cpp ****     // }
 103:Granulator.cpp ****     // else
 104:Granulator.cpp ****     // {
 105:Granulator.cpp ****     //     // patch.WriteCvOut(2, (0.f));
 106:Granulator.cpp ****     //     read_pos = offset;
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 19


 107:Granulator.cpp ****     // }
 108:Granulator.cpp ****     read_pos = write_pos;
 109:Granulator.cpp ****     
 110:Granulator.cpp ****     /* write head connected to input */
 111:Granulator.cpp ****     buffer_l[write_pos] =  in[0][0]; 
 112:Granulator.cpp ****     buffer_r[write_pos] =  in[1][0]; 
 113:Granulator.cpp **** 
 114:Granulator.cpp ****     /* increment write position */
 115:Granulator.cpp ****     write_pos++;
 364              		.loc 9 115 14 is_stmt 0 view .LVU99
 365 0082 591C     		adds	r1, r3, #1
 366              	.L13:
 108:Granulator.cpp ****     
 367              		.loc 9 108 5 is_stmt 1 view .LVU100
 111:Granulator.cpp ****     buffer_r[write_pos] =  in[1][0]; 
 368              		.loc 9 111 5 view .LVU101
 369              		.loc 9 115 14 is_stmt 0 view .LVU102
 370 0084 1160     		str	r1, [r2]
 112:Granulator.cpp **** 
 371              		.loc 9 112 35 view .LVU103
 372 0086 D6E90021 		ldrd	r2, r1, [r6]
 111:Granulator.cpp ****     buffer_r[write_pos] =  in[1][0]; 
 373              		.loc 9 111 35 view .LVU104
 374 008a 1068     		ldr	r0, [r2]	@ float
 111:Granulator.cpp ****     buffer_r[write_pos] =  in[1][0]; 
 375              		.loc 9 111 25 view .LVU105
 376 008c 3E4A     		ldr	r2, .L27+28
 377 008e 02EB8302 		add	r2, r2, r3, lsl #2
 378 0092 1060     		str	r0, [r2]	@ float
 112:Granulator.cpp **** 
 379              		.loc 9 112 5 is_stmt 1 view .LVU106
 112:Granulator.cpp **** 
 380              		.loc 9 112 25 is_stmt 0 view .LVU107
 381 0094 3D4A     		ldr	r2, .L27+32
 112:Granulator.cpp **** 
 382              		.loc 9 112 35 view .LVU108
 383 0096 0968     		ldr	r1, [r1]	@ float
 112:Granulator.cpp **** 
 384              		.loc 9 112 25 view .LVU109
 385 0098 02EB8303 		add	r3, r2, r3, lsl #2
 116:Granulator.cpp **** 
 117:Granulator.cpp **** 
 118:Granulator.cpp ****     if(grain.write_pos > MAX_DELAY - 1) // stop overflow
 386              		.loc 9 118 5 view .LVU110
 387 009c 4AF64342 		movw	r2, #44099
 112:Granulator.cpp **** 
 388              		.loc 9 112 25 view .LVU111
 389 00a0 1960     		str	r1, [r3]	@ float
 115:Granulator.cpp **** 
 390              		.loc 9 115 5 is_stmt 1 view .LVU112
 391              		.loc 9 118 5 view .LVU113
 392              		.loc 9 118 14 is_stmt 0 view .LVU114
 393 00a2 6369     		ldr	r3, [r4, #20]
 394              		.loc 9 118 5 view .LVU115
 395 00a4 9342     		cmp	r3, r2
 396 00a6 5AD8     		bhi	.L23
 119:Granulator.cpp ****     {
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 20


 120:Granulator.cpp ****         grain.write_pos = 0;
 121:Granulator.cpp ****     }
 122:Granulator.cpp ****     grain_buffer_l[grain.write_pos] = buffer_l[read_pos];
 123:Granulator.cpp ****     grain_buffer_r[grain.write_pos] = buffer_r[read_pos];
 124:Granulator.cpp ****     grain.read_pos = grain.write_pos;
 125:Granulator.cpp ****     grain.write_pos++;
 397              		.loc 9 125 20 view .LVU116
 398 00a8 5A1C     		adds	r2, r3, #1
 399              	.L14:
 122:Granulator.cpp ****     grain_buffer_r[grain.write_pos] = buffer_r[read_pos];
 400              		.loc 9 122 5 is_stmt 1 view .LVU117
 122:Granulator.cpp ****     grain_buffer_r[grain.write_pos] = buffer_r[read_pos];
 401              		.loc 9 122 37 is_stmt 0 view .LVU118
 402 00aa DFF8F080 		ldr	r8, .L27+48
 126:Granulator.cpp **** 
 127:Granulator.cpp ****     // out[0][0] = grain_buffer_l[grain.read_pos];
 128:Granulator.cpp ****     // out[1][0] = grain_buffer_r[grain.read_pos];
 129:Granulator.cpp **** 
 130:Granulator.cpp ****     // /* write to grains */
 131:Granulator.cpp ****     // for (int i = 0 ; i < NUM_GRAINS; i++)
 132:Granulator.cpp ****     // {
 133:Granulator.cpp ****     //     if(grains[i].write_pos > MAX_DELAY - 1) // stop overflow
 134:Granulator.cpp ****     //     {
 135:Granulator.cpp ****     //         grains[i].write_pos = 0;
 136:Granulator.cpp ****     //     }
 137:Granulator.cpp ****     //     grain_buffers_l[i][grains[i].write_pos] = buffer_l[read_pos];
 138:Granulator.cpp ****     //     grain_buffers_r[i][grains[i].write_pos] = buffer_r[read_pos];
 139:Granulator.cpp ****     //     grains[i].write_pos++;
 140:Granulator.cpp ****     // }
 141:Granulator.cpp ****     // /* write to outputs */
 142:Granulator.cpp ****     // int output_l = 0;
 143:Granulator.cpp ****     // int output_r = 0;
 144:Granulator.cpp ****     // 
 145:Granulator.cpp ****     // for (int i = 0 ; i < NUM_GRAINS; i++)
 146:Granulator.cpp ****     // {
 147:Granulator.cpp ****     // // grains[i].offset = grains[i].write_pos ; //- 10000; //TODO 10000 is selectable array offs
 148:Granulator.cpp ****     // // if(offset < 0)
 149:Granulator.cpp ****     // // {
 150:Granulator.cpp ****     // //     // patch.WriteCvOut(2, (5.f));
 151:Granulator.cpp ****     // //     grains[i].read_pos = grains[i].offset + MAX_DELAY;
 152:Granulator.cpp ****     // // }
 153:Granulator.cpp ****     // // else
 154:Granulator.cpp ****     // // {
 155:Granulator.cpp ****     // //     // patch.WriteCvOut(2, (0.f));
 156:Granulator.cpp ****     // //     grains[i].read_pos = grains[i].offset;
 157:Granulator.cpp ****     // // }
 158:Granulator.cpp ****     //     grains[i].read_pos = grains[i].write_pos;
 159:Granulator.cpp ****     // 
 160:Granulator.cpp ****     //     output_l += grain_buffers_l[i][grains[i].read_pos];
 161:Granulator.cpp ****     //     output_r += grain_buffers_r[i][grains[i].read_pos];
 162:Granulator.cpp ****     // }
 163:Granulator.cpp ****     // out[0][0] = output_l;
 164:Granulator.cpp ****     // out[1][0] = output_r;
 165:Granulator.cpp **** 
 166:Granulator.cpp **** 
 167:Granulator.cpp ****     if(sample_counter > (int)MAX_DELAY - 1) // stop overflow
 403              		.loc 9 167 5 view .LVU119
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 21


 404 00ae 4AF6434C 		movw	ip, #44099
 123:Granulator.cpp ****     grain.read_pos = grain.write_pos;
 405              		.loc 9 123 37 view .LVU120
 406 00b2 374E     		ldr	r6, .L27+36
 407              	.LVL19:
 122:Granulator.cpp ****     grain_buffer_r[grain.write_pos] = buffer_r[read_pos];
 408              		.loc 9 122 37 view .LVU121
 409 00b4 08EB830E 		add	lr, r8, r3, lsl #2
 124:Granulator.cpp ****     grain.write_pos++;
 410              		.loc 9 124 20 view .LVU122
 411 00b8 C4E90523 		strd	r2, r3, [r4, #20]
 123:Granulator.cpp ****     grain.read_pos = grain.write_pos;
 412              		.loc 9 123 37 view .LVU123
 413 00bc 06EB8303 		add	r3, r6, r3, lsl #2
 414              		.loc 9 167 23 view .LVU124
 415 00c0 344A     		ldr	r2, .L27+40
 122:Granulator.cpp ****     grain_buffer_r[grain.write_pos] = buffer_r[read_pos];
 416              		.loc 9 122 37 view .LVU125
 417 00c2 CEF80000 		str	r0, [lr]	@ float
 123:Granulator.cpp ****     grain.read_pos = grain.write_pos;
 418              		.loc 9 123 5 is_stmt 1 view .LVU126
 123:Granulator.cpp ****     grain.read_pos = grain.write_pos;
 419              		.loc 9 123 37 is_stmt 0 view .LVU127
 420 00c6 1960     		str	r1, [r3]	@ float
 124:Granulator.cpp ****     grain.write_pos++;
 421              		.loc 9 124 5 is_stmt 1 view .LVU128
 125:Granulator.cpp **** 
 422              		.loc 9 125 5 view .LVU129
 423              		.loc 9 167 5 view .LVU130
 424              		.loc 9 167 23 is_stmt 0 view .LVU131
 425 00c8 1368     		ldr	r3, [r2]
 426              		.loc 9 167 5 view .LVU132
 427 00ca 6345     		cmp	r3, ip
 428 00cc 2ADD     		ble	.L15
 168:Granulator.cpp ****     {
 169:Granulator.cpp ****         sample_counter = 0;
 429              		.loc 9 169 9 is_stmt 1 view .LVU133
 170:Granulator.cpp ****     }
 171:Granulator.cpp **** 
 172:Granulator.cpp ****     if(sample_counter++ % ((int)MAX_DELAY/interval) == 0)
 430              		.loc 9 172 5 view .LVU134
 431              		.loc 9 172 22 is_stmt 0 view .LVU135
 432 00ce 0123     		movs	r3, #1
 433 00d0 1360     		str	r3, [r2]
 434              	.L18:
 173:Granulator.cpp ****     {
 174:Granulator.cpp ****        grain.triggered = 1;
 175:Granulator.cpp ****     }
 176:Granulator.cpp **** 
 177:Granulator.cpp ****     if(grain.triggered)
 178:Granulator.cpp ****     {
 179:Granulator.cpp ****         grain.triggered = 0;
 435              		.loc 9 179 9 is_stmt 1 view .LVU136
 436              		.loc 9 179 25 is_stmt 0 view .LVU137
 437 00d2 0023     		movs	r3, #0
 438 00d4 2370     		strb	r3, [r4]
 180:Granulator.cpp ****         grain.sample_counter = grain.length;
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 22


 439              		.loc 9 180 9 is_stmt 1 view .LVU138
 181:Granulator.cpp ****     }
 182:Granulator.cpp **** 
 183:Granulator.cpp ****     if(grain.sample_counter)
 440              		.loc 9 183 5 view .LVU139
 180:Granulator.cpp ****         grain.sample_counter = grain.length;
 441              		.loc 9 180 38 is_stmt 0 view .LVU140
 442 00d6 2369     		ldr	r3, [r4, #16]
 180:Granulator.cpp ****         grain.sample_counter = grain.length;
 443              		.loc 9 180 30 view .LVU141
 444 00d8 E360     		str	r3, [r4, #12]
 445              	.LBB150:
 446              		.loc 9 183 5 view .LVU142
 447 00da 002B     		cmp	r3, #0
 448 00dc 35D0     		beq	.L20
 449              	.L26:
 450              	.LBB151:
 184:Granulator.cpp ****     {
 185:Granulator.cpp ****         grain.sample_counter--;
 451              		.loc 9 185 9 is_stmt 1 view .LVU143
 452              		.loc 9 185 29 is_stmt 0 view .LVU144
 453 00de 013B     		subs	r3, r3, #1
 186:Granulator.cpp ****         patch.WriteCvOut(2, 5.f);
 454              		.loc 9 186 25 view .LVU145
 455 00e0 B1EE040A 		vmov.f32	s0, #5.0e+0
 456 00e4 0221     		movs	r1, #2
 457 00e6 2148     		ldr	r0, .L27
 185:Granulator.cpp ****         patch.WriteCvOut(2, 5.f);
 458              		.loc 9 185 29 view .LVU146
 459 00e8 E360     		str	r3, [r4, #12]
 460              		.loc 9 186 9 is_stmt 1 view .LVU147
 461              		.loc 9 186 25 is_stmt 0 view .LVU148
 462 00ea FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM10WriteCvOutEif
 463              	.LVL20:
 187:Granulator.cpp ****         float envelope = calculateEnvelope(grain.length, grain.sample_counter);
 464              		.loc 9 187 9 is_stmt 1 view .LVU149
 465              		.loc 9 187 43 is_stmt 0 view .LVU150
 466 00ee D4E90310 		ldrd	r1, r0, [r4, #12]
 467 00f2 FFF7FEFF 		bl	_Z17calculateEnvelopeii
 468              	.LVL21:
 188:Granulator.cpp ****         out[0][0] = grain_buffer_l[grain.read_pos] * envelope;
 469              		.loc 9 188 42 view .LVU151
 470 00f6 A369     		ldr	r3, [r4, #24]
 471              	.LVL22:
 472              		.loc 9 188 9 is_stmt 1 view .LVU152
 473              		.loc 9 188 19 is_stmt 0 view .LVU153
 474 00f8 2A68     		ldr	r2, [r5]
 475              		.loc 9 188 50 view .LVU154
 476 00fa 08EB8308 		add	r8, r8, r3, lsl #2
 189:Granulator.cpp ****         out[1][0] = grain_buffer_r[grain.read_pos] * envelope;
 477              		.loc 9 189 50 view .LVU155
 478 00fe 06EB8306 		add	r6, r6, r3, lsl #2
 479              		.loc 9 189 19 view .LVU156
 480 0102 6B68     		ldr	r3, [r5, #4]
 188:Granulator.cpp ****         out[0][0] = grain_buffer_l[grain.read_pos] * envelope;
 481              		.loc 9 188 52 view .LVU157
 482 0104 D8ED007A 		vldr.32	s15, [r8]
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 23


 483 0108 67EE807A 		vmul.f32	s15, s15, s0
 484              	.LBE151:
 485              	.LBE150:
 190:Granulator.cpp ****     }
 191:Granulator.cpp ****     else
 192:Granulator.cpp ****     {
 193:Granulator.cpp ****         patch.WriteCvOut(2, 0.f);
 194:Granulator.cpp ****     }
 195:Granulator.cpp **** 
 196:Granulator.cpp ****     /* output connected to read head   */
 197:Granulator.cpp ****     // out[0][0] = buffer_l[read_pos];
 198:Granulator.cpp ****     // out[1][0] = buffer_r[read_pos];
 199:Granulator.cpp **** 
 200:Granulator.cpp ****     /* button */
 201:Granulator.cpp ****     // if(button.RisingEdge())
 202:Granulator.cpp ****     // {
 203:Granulator.cpp ****     //     if(button_pressed == 0)
 204:Granulator.cpp ****     //     {
 205:Granulator.cpp ****     //         button_pressed = 1;
 206:Granulator.cpp ****     //         // patch.WriteCvOut(2, (5.f));
 207:Granulator.cpp ****     //     }
 208:Granulator.cpp ****     //     else if(button_pressed == 1)
 209:Granulator.cpp ****     //     {
 210:Granulator.cpp ****     //         button_pressed = 0; 
 211:Granulator.cpp ****     //         // patch.WriteCvOut(2, (0.f));
 212:Granulator.cpp ****     //     }
 213:Granulator.cpp ****     // }
 214:Granulator.cpp **** }
 486              		.loc 9 214 1 view .LVU158
 487 010c BDEC028B 		vldm	sp!, {d8}
 488              		.cfi_remember_state
 489              		.cfi_restore 80
 490              		.cfi_restore 81
 491              		.cfi_def_cfa_offset 24
 492              	.LBB153:
 493              	.LBB152:
 188:Granulator.cpp ****         out[1][0] = grain_buffer_r[grain.read_pos] * envelope;
 494              		.loc 9 188 19 view .LVU159
 495 0110 C2ED007A 		vstr.32	s15, [r2]
 189:Granulator.cpp ****         out[1][0] = grain_buffer_r[grain.read_pos] * envelope;
 496              		.loc 9 189 9 is_stmt 1 view .LVU160
 189:Granulator.cpp ****         out[1][0] = grain_buffer_r[grain.read_pos] * envelope;
 497              		.loc 9 189 52 is_stmt 0 view .LVU161
 498 0114 D6ED007A 		vldr.32	s15, [r6]
 499 0118 27EE800A 		vmul.f32	s0, s15, s0
 500              	.LVL23:
 189:Granulator.cpp ****         out[1][0] = grain_buffer_r[grain.read_pos] * envelope;
 501              		.loc 9 189 19 view .LVU162
 502 011c 83ED000A 		vstr.32	s0, [r3]
 503              	.LBE152:
 504              	.LBE153:
 505              		.loc 9 214 1 view .LVU163
 506 0120 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 507              	.LVL24:
 508              	.L15:
 509              		.cfi_restore_state
 172:Granulator.cpp ****     {
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 24


 510              		.loc 9 172 5 is_stmt 1 view .LVU164
 172:Granulator.cpp ****     {
 511              		.loc 9 172 42 is_stmt 0 view .LVU165
 512 0124 3868     		ldr	r0, [r7]
 513 0126 4AF64441 		movw	r1, #44100
 514 012a 91FBF0F1 		sdiv	r1, r1, r0
 172:Granulator.cpp ****     {
 515              		.loc 9 172 22 view .LVU166
 516 012e 581C     		adds	r0, r3, #1
 517 0130 1060     		str	r0, [r2]
 172:Granulator.cpp ****     {
 518              		.loc 9 172 25 view .LVU167
 519 0132 93FBF1F2 		sdiv	r2, r3, r1
 520 0136 01FB1233 		mls	r3, r1, r2, r3
 172:Granulator.cpp ****     {
 521              		.loc 9 172 5 view .LVU168
 522 013a 002B     		cmp	r3, #0
 523 013c C9D0     		beq	.L18
 177:Granulator.cpp ****     {
 524              		.loc 9 177 5 is_stmt 1 view .LVU169
 525 013e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 526 0140 002B     		cmp	r3, #0
 527 0142 C6D1     		bne	.L18
 528              	.LBB154:
 183:Granulator.cpp ****     {
 529              		.loc 9 183 14 is_stmt 0 view .LVU170
 530 0144 E368     		ldr	r3, [r4, #12]
 531              	.LBE154:
 183:Granulator.cpp ****     {
 532              		.loc 9 183 5 is_stmt 1 view .LVU171
 533              	.LBB155:
 534 0146 002B     		cmp	r3, #0
 535 0148 C9D1     		bne	.L26
 536              	.L20:
 193:Granulator.cpp ****     }
 537              		.loc 9 193 9 view .LVU172
 193:Granulator.cpp ****     }
 538              		.loc 9 193 25 is_stmt 0 view .LVU173
 539 014a 9FED130A 		vldr.32	s0, .L27+44
 540 014e 0221     		movs	r1, #2
 541 0150 0648     		ldr	r0, .L27
 542              	.LBE155:
 543              		.loc 9 214 1 view .LVU174
 544 0152 BDEC028B 		vldm	sp!, {d8}
 545              		.cfi_remember_state
 546              		.cfi_restore 80
 547              		.cfi_restore 81
 548              		.cfi_def_cfa_offset 24
 549 0156 BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 550              		.cfi_restore 14
 551              		.cfi_restore 8
 552              		.cfi_restore 7
 553              		.cfi_restore 6
 554              		.cfi_restore 5
 555              		.cfi_restore 4
 556              		.cfi_def_cfa_offset 0
 557              	.LVL25:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 25


 558              	.LBB156:
 193:Granulator.cpp ****     }
 559              		.loc 9 193 25 view .LVU175
 560 015a FFF7FEBF 		b	_ZN5daisy8patch_sm12DaisyPatchSM10WriteCvOutEif
 561              	.LVL26:
 562              	.L23:
 563              		.cfi_restore_state
 193:Granulator.cpp ****     }
 564              		.loc 9 193 25 view .LVU176
 565              	.LBE156:
 566 015e 0122     		movs	r2, #1
 567 0160 0023     		movs	r3, #0
 568 0162 A2E7     		b	.L14
 569              	.L22:
 193:Granulator.cpp ****     }
 570              		.loc 9 193 25 view .LVU177
 571 0164 0121     		movs	r1, #1
 572 0166 0023     		movs	r3, #0
 573 0168 8CE7     		b	.L13
 574              	.L28:
 575 016a 00BF     		.align	2
 576              	.L27:
 577 016c 00000000 		.word	.LANCHOR1
 578 0170 00000000 		.word	.LANCHOR0
 579 0174 00000000 		.word	.LANCHOR3
 580 0178 00000000 		.word	.LANCHOR2
 581 017c 00442C47 		.word	1194083328
 582 0180 00803B45 		.word	1161527296
 583 0184 00000000 		.word	.LANCHOR4
 584 0188 00000000 		.word	buffer_l
 585 018c 00000000 		.word	buffer_r
 586 0190 00000000 		.word	grain_buffer_r
 587 0194 00000000 		.word	.LANCHOR5
 588 0198 00000000 		.word	0
 589 019c 00000000 		.word	grain_buffer_l
 590              		.cfi_endproc
 591              	.LFE4784:
 593              		.section	.text.startup.main,"ax",%progbits
 594              		.align	1
 595              		.p2align 2,,3
 596              		.global	main
 597              		.syntax unified
 598              		.thumb
 599              		.thumb_func
 600              		.fpu fpv5-d16
 602              	main:
 603              	.LFB4785:
 215:Granulator.cpp **** 
 216:Granulator.cpp **** int main(void)
 217:Granulator.cpp **** {
 604              		.loc 9 217 1 is_stmt 1 view -0
 605              		.cfi_startproc
 606              		@ Volatile: function does not return.
 607              		@ args = 0, pretend = 0, frame = 0
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 218:Granulator.cpp ****     //grains[0].Init(&grain1_buffer_l[0], &grain1_buffer_r[0]);
 219:Granulator.cpp ****     // for (int i = 0; i < NUM_GRAINS; i++)
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 26


 220:Granulator.cpp ****     // {
 221:Granulator.cpp ****     //     grains[i].write_pos = 0;
 222:Granulator.cpp ****     //     grains[i].read_pos = 0;
 223:Granulator.cpp ****     //     grains[i].offset = 0;
 224:Granulator.cpp ****     // }
 225:Granulator.cpp ****     grain.write_pos = 0;
 609              		.loc 9 225 5 view .LVU179
 217:Granulator.cpp ****     //grains[0].Init(&grain1_buffer_l[0], &grain1_buffer_r[0]);
 610              		.loc 9 217 1 is_stmt 0 view .LVU180
 611 0000 08B5     		push	{r3, lr}
 612              		.cfi_def_cfa_offset 8
 613              		.cfi_offset 3, -8
 614              		.cfi_offset 14, -4
 615              		.loc 9 225 21 view .LVU181
 616 0002 0022     		movs	r2, #0
 617 0004 0D4B     		ldr	r3, .L32
 226:Granulator.cpp ****     grain.read_pos = 0;
 227:Granulator.cpp ****     grain.offset = 0;
 228:Granulator.cpp ****     grain.triggered = 0;
 229:Granulator.cpp ****     grain.sample_counter = 0;
 230:Granulator.cpp ****     patch.Init(); 
 618              		.loc 9 230 15 view .LVU182
 619 0006 0E48     		ldr	r0, .L32+4
 227:Granulator.cpp ****     grain.triggered = 0;
 620              		.loc 9 227 18 view .LVU183
 621 0008 DA61     		str	r2, [r3, #28]
 228:Granulator.cpp ****     grain.sample_counter = 0;
 622              		.loc 9 228 21 view .LVU184
 623 000a 1A70     		strb	r2, [r3]
 229:Granulator.cpp ****     patch.Init(); 
 624              		.loc 9 229 26 view .LVU185
 625 000c DA60     		str	r2, [r3, #12]
 226:Granulator.cpp ****     grain.offset = 0;
 626              		.loc 9 226 20 view .LVU186
 627 000e C3E90522 		strd	r2, r2, [r3, #20]
 227:Granulator.cpp ****     grain.triggered = 0;
 628              		.loc 9 227 5 is_stmt 1 view .LVU187
 228:Granulator.cpp ****     grain.sample_counter = 0;
 629              		.loc 9 228 5 view .LVU188
 229:Granulator.cpp ****     patch.Init(); 
 630              		.loc 9 229 5 view .LVU189
 631              		.loc 9 230 5 view .LVU190
 632              		.loc 9 230 15 is_stmt 0 view .LVU191
 633 0012 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
 634              	.LVL27:
 231:Granulator.cpp ****     patch.SetAudioBlockSize(1);
 635              		.loc 9 231 5 is_stmt 1 view .LVU192
 636              		.loc 9 231 28 is_stmt 0 view .LVU193
 637 0016 0121     		movs	r1, #1
 638 0018 0948     		ldr	r0, .L32+4
 639 001a FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
 640              	.LVL28:
 232:Granulator.cpp ****     button.Init(patch.D5);
 641              		.loc 9 232 5 is_stmt 1 view .LVU194
 642              		.loc 9 232 16 is_stmt 0 view .LVU195
 643 001e 094B     		ldr	r3, .L32+8
 644 0020 0948     		ldr	r0, .L32+12
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 27


 645 0022 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 646 0024 5978     		ldrb	r1, [r3, #1]	@ zero_extendqisi2
 647 0026 9FED090A 		vldr.32	s0, .L32+16
 648 002a 42EA0121 		orr	r1, r2, r1, lsl #8
 649 002e FFF7FEFF 		bl	_ZN5daisy6Switch4InitE12dsy_gpio_pinf
 650              	.LVL29:
 233:Granulator.cpp ****     patch.StartAudio(AudioCallback);
 651              		.loc 9 233 5 is_stmt 1 view .LVU196
 652              		.loc 9 233 21 is_stmt 0 view .LVU197
 653 0032 0749     		ldr	r1, .L32+20
 654 0034 0248     		ldr	r0, .L32+4
 655 0036 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
 656              	.LVL30:
 657              	.L30:
 234:Granulator.cpp ****     while(1) {}
 658              		.loc 9 234 5 is_stmt 1 discriminator 1 view .LVU198
 659              		.loc 9 234 5 discriminator 1 view .LVU199
 660              		.loc 9 234 5 discriminator 1 view .LVU200
 661              		.loc 9 234 5 discriminator 1 view .LVU201
 662 003a FEE7     		b	.L30
 663              	.L33:
 664              		.align	2
 665              	.L32:
 666 003c 00000000 		.word	.LANCHOR0
 667 0040 00000000 		.word	.LANCHOR1
 668 0044 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSM2D5E
 669 0048 00000000 		.word	.LANCHOR2
 670 004c 00000000 		.word	0
 671 0050 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 672              		.cfi_endproc
 673              	.LFE4785:
 675              		.section	.text.startup._GLOBAL__sub_I_patch,"ax",%progbits
 676              		.align	1
 677              		.p2align 2,,3
 678              		.syntax unified
 679              		.thumb
 680              		.thumb_func
 681              		.fpu fpv5-d16
 683              	_GLOBAL__sub_I_patch:
 684              	.LFB5345:
 235:Granulator.cpp **** }...
 685              		.loc 9 235 1 view -0
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 689              	.LBB187:
 690              	.LBI187:
 691              		.loc 9 235 1 view .LVU203
 692              	.LVL31:
 693              	.LBB188:
 694              	.LBB189:
 695              	.LBI189:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 696              		.loc 2 64 9 view .LVU204
 697              	.LBB190:
 698              	.LBB191:
 699              	.LBI191:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 28


  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 700              		.loc 8 77 5 view .LVU205
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 701              		.loc 8 77 5 is_stmt 0 view .LVU206
 702              	.LBE191:
 703              	.LBB192:
 704              	.LBI192:
 705              		.file 10 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
  34:../../libDaisy//src/per/qspi.h ****     {
  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 29


  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../../libDaisy//src/per/qspi.h **** 
  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 30


 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 31


 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 706              		.loc 10 166 5 is_stmt 1 view .LVU207
 707              	.LBE192:
 708              	.LBE190:
 709              	.LBE189:
 710              	.LBE188:
 711              	.LBE187:
 712              		.loc 9 235 1 is_stmt 0 view .LVU208
 713 0000 08B5     		push	{r3, lr}
 714              		.cfi_def_cfa_offset 8
 715              		.cfi_offset 3, -8
 716              		.cfi_offset 14, -4
 717              	.LBB225:
 718              	.LBB222:
 719              	.LBB218:
 720              	.LBB215:
 721              	.LBB195:
 722              	.LBB193:
 723              	.LBB194:
 724              		.loc 10 166 34 view .LVU209
 725 0002 0848     		ldr	r0, .L36
 726 0004 0023     		movs	r3, #0
 727              	.LBE194:
 728              	.LBE193:
 729              	.LBE195:
 730              	.LBE215:
 731              	.LBE218:
  22:Granulator.cpp **** DaisyPatchSM patch;
 732              		.loc 9 22 14 view .LVU210
 733 0006 084A     		ldr	r2, .L36+4
 734 0008 0849     		ldr	r1, .L36+8
 735              	.LBB219:
 736              	.LBB216:
 737              	.LBB196:
 738              	.LBB197:
 739              	.LBB198:
 740              	.LBB199:
 741              	.LBB200:
 742              		.file 11 "../../libDaisy//src/per/i2c.h"
   1:../../libDaisy//src/per/i2c.h **** #pragma once
   2:../../libDaisy//src/per/i2c.h **** #include "daisy_core.h"
   3:../../libDaisy//src/per/i2c.h **** 
   4:../../libDaisy//src/per/i2c.h **** namespace daisy
   5:../../libDaisy//src/per/i2c.h **** {
   6:../../libDaisy//src/per/i2c.h **** /** A handle for interacting with an I2C peripheral. This is a dumb
   7:../../libDaisy//src/per/i2c.h ****  *  gateway that internally points to one of the four I2C peripherals
   8:../../libDaisy//src/per/i2c.h ****  *  after it was initialised. It can then be copied and passed around.
   9:../../libDaisy//src/per/i2c.h ****  *  Use an I2CHandle like this:
  10:../../libDaisy//src/per/i2c.h ****  *  
  11:../../libDaisy//src/per/i2c.h ****  *      // setup the configuration
  12:../../libDaisy//src/per/i2c.h ****  *      I2CHandle::Config i2c_conf;
  13:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
  14:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  15:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.mode   = I2CHandle::Config::Mode::Master;
  16:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 32


  17:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
  18:../../libDaisy//src/per/i2c.h ****  *      // initialise the peripheral
  19:../../libDaisy//src/per/i2c.h ****  *      I2CHandle i2c;
  20:../../libDaisy//src/per/i2c.h ****  *      i2c.Init(i2c_conf);
  21:../../libDaisy//src/per/i2c.h ****  *      // now i2c points to the corresponding peripheral and can be used.
  22:../../libDaisy//src/per/i2c.h ****  *      i2c.TransmitBlocking( ... );
  23:../../libDaisy//src/per/i2c.h ****  */
  24:../../libDaisy//src/per/i2c.h **** class I2CHandle
  25:../../libDaisy//src/per/i2c.h **** {
  26:../../libDaisy//src/per/i2c.h ****   public:
  27:../../libDaisy//src/per/i2c.h ****     /** Contains settings for initialising an I2C interface. */
  28:../../libDaisy//src/per/i2c.h ****     struct Config
  29:../../libDaisy//src/per/i2c.h ****     {
  30:../../libDaisy//src/per/i2c.h ****         /** Specifies whether the interface will operate in master or slave mode. */
  31:../../libDaisy//src/per/i2c.h ****         enum class Mode
  32:../../libDaisy//src/per/i2c.h ****         {
  33:../../libDaisy//src/per/i2c.h ****             I2C_MASTER,
  34:../../libDaisy//src/per/i2c.h ****             I2C_SLAVE,
  35:../../libDaisy//src/per/i2c.h ****         };
  36:../../libDaisy//src/per/i2c.h **** 
  37:../../libDaisy//src/per/i2c.h ****         /** Specifices the internal peripheral to use (these are mapped to different pins on the ha
  38:../../libDaisy//src/per/i2c.h ****         enum class Peripheral
  39:../../libDaisy//src/per/i2c.h ****         {
  40:../../libDaisy//src/per/i2c.h ****             I2C_1 = 0, /**< & */
  41:../../libDaisy//src/per/i2c.h ****             I2C_2,     /**< & */
  42:../../libDaisy//src/per/i2c.h ****             I2C_3,     /**< & */
  43:../../libDaisy//src/per/i2c.h ****             I2C_4,     /**< & */
  44:../../libDaisy//src/per/i2c.h ****         };
  45:../../libDaisy//src/per/i2c.h **** 
  46:../../libDaisy//src/per/i2c.h ****         /** Rate at which the clock/data will be sent/received. The device being used will have max
  47:../../libDaisy//src/per/i2c.h ****          *  1MHZ Mode is currently 886kHz
  48:../../libDaisy//src/per/i2c.h ****          */
  49:../../libDaisy//src/per/i2c.h ****         enum class Speed
  50:../../libDaisy//src/per/i2c.h ****         {
  51:../../libDaisy//src/per/i2c.h ****             I2C_100KHZ, /**< & */
  52:../../libDaisy//src/per/i2c.h ****             I2C_400KHZ, /**< & */
  53:../../libDaisy//src/per/i2c.h ****             I2C_1MHZ,   /**< & */
  54:../../libDaisy//src/per/i2c.h ****         };
  55:../../libDaisy//src/per/i2c.h **** 
  56:../../libDaisy//src/per/i2c.h ****         Peripheral periph; /**< & */
  57:../../libDaisy//src/per/i2c.h ****         struct
  58:../../libDaisy//src/per/i2c.h ****         {
  59:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin scl; /**< & */
  60:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin sda; /**< & */
  61:../../libDaisy//src/per/i2c.h ****         } pin_config;         /**< & */
  62:../../libDaisy//src/per/i2c.h **** 
  63:../../libDaisy//src/per/i2c.h ****         Speed speed; /**< & */
  64:../../libDaisy//src/per/i2c.h ****         Mode  mode;  /**< & */
  65:../../libDaisy//src/per/i2c.h ****         // 0x10 is chosen as a default to avoid conflicts with reserved addresses
  66:../../libDaisy//src/per/i2c.h ****         uint8_t address = 0x10; /**< & */
  67:../../libDaisy//src/per/i2c.h ****     };
  68:../../libDaisy//src/per/i2c.h **** 
  69:../../libDaisy//src/per/i2c.h ****     /** Return values for I2C functions. */
  70:../../libDaisy//src/per/i2c.h ****     enum class Result
  71:../../libDaisy//src/per/i2c.h ****     {
  72:../../libDaisy//src/per/i2c.h ****         OK, /**< & */
  73:../../libDaisy//src/per/i2c.h ****         ERR /**< & */
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 33


  74:../../libDaisy//src/per/i2c.h ****     };
  75:../../libDaisy//src/per/i2c.h **** 
  76:../../libDaisy//src/per/i2c.h ****     enum class Direction
  77:../../libDaisy//src/per/i2c.h ****     {
  78:../../libDaisy//src/per/i2c.h ****         TRANSMIT, /**< & */
  79:../../libDaisy//src/per/i2c.h ****         RECEIVE,  /**< & */
  80:../../libDaisy//src/per/i2c.h ****     };
  81:../../libDaisy//src/per/i2c.h **** 
  82:../../libDaisy//src/per/i2c.h ****     I2CHandle() : pimpl_(nullptr) {}
 743              		.loc 11 82 33 view .LVU211
 744 000a 0362     		str	r3, [r0, #32]
 745              	.LBE200:
 746              	.LBE199:
 747              	.LBE198:
 748              	.LBE197:
 749              	.LBE196:
 750              	.LBB203:
 751              	.LBB204:
 752              	.LBB205:
 753              		.file 12 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 34


  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 754              		.loc 12 84 33 view .LVU212
 755 000c 8362     		str	r3, [r0, #40]
 756              	.LBE205:
 757              	.LBE204:
 758              	.LBE203:
 759              	.LBB206:
 760              	.LBB207:
 761              	.LBB208:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 762              		.loc 7 95 35 view .LVU213
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 35


 763 000e C0E90333 		strd	r3, r3, [r0, #12]
 764              	.LVL32:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 765              		.loc 7 95 35 view .LVU214
 766              	.LBE208:
 767              	.LBE207:
 768              	.LBE206:
 769              	.LBB209:
 770              	.LBI209:
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 771              		.loc 6 92 5 is_stmt 1 view .LVU215
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 772              		.loc 6 92 5 is_stmt 0 view .LVU216
 773              	.LBE209:
 774              	.LBB210:
 775              	.LBI210:
  40:../../libDaisy//src/hid/usb.h **** 
 776              		.loc 5 40 5 is_stmt 1 view .LVU217
  40:../../libDaisy//src/hid/usb.h **** 
 777              		.loc 5 40 5 is_stmt 0 view .LVU218
 778              	.LBE210:
 779              	.LBB211:
 780              	.LBI196:
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
 781              		.loc 4 28 5 is_stmt 1 view .LVU219
 782              	.LBB202:
 783              	.LBB201:
 784              	.LBI198:
 785              		.loc 11 82 5 view .LVU220
 786              		.loc 11 82 5 is_stmt 0 view .LVU221
 787              	.LBE201:
 788              	.LBE202:
 789              	.LBE211:
 790              	.LBB212:
 791              	.LBI203:
 792              		.loc 12 84 5 is_stmt 1 view .LVU222
 793              		.loc 12 84 5 is_stmt 0 view .LVU223
 794              	.LBE212:
 795              	.LBE216:
 796              	.LBE219:
 797              	.LBE222:
 798              	.LBE225:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 799              		.loc 2 64 24 is_stmt 1 view .LVU224
 800              	.LBB226:
 801              	.LBB223:
 802              	.LBB220:
 803              	.LBB217:
 804              	.LBB213:
 805              	.LBI213:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 806              		.loc 3 20 5 view .LVU225
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 807              		.loc 3 20 5 is_stmt 0 view .LVU226
 808              	.LBE213:
 809              	.LBB214:
 810              	.LBI214:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 36


  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 811              		.loc 3 20 5 is_stmt 1 view .LVU227
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 812              		.loc 3 20 5 is_stmt 0 view .LVU228
 813              	.LBE214:
 814              	.LBE217:
 815              	.LBE220:
  22:Granulator.cpp **** DaisyPatchSM patch;
 816              		.loc 9 22 14 view .LVU229
 817 0012 FFF7FEFF 		bl	__aeabi_atexit
 818              	.LVL33:
 819              	.LBB221:
 820              	.LBI221:
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 821              		.loc 1 41 5 is_stmt 1 view .LVU230
  41:../../libDaisy//src/hid/switch.h ****     ~Switch() {}
 822              		.loc 1 41 5 is_stmt 0 view .LVU231
 823              	.LBE221:
  23:Granulator.cpp **** Switch       button;
 824              		.loc 9 23 14 view .LVU232
 825 0016 044A     		ldr	r2, .L36+4
 826 0018 0549     		ldr	r1, .L36+12
 827 001a 0648     		ldr	r0, .L36+16
 828              	.LBE223:
 829              	.LBE226:
 830              		.loc 9 235 1 view .LVU233
 831 001c BDE80840 		pop	{r3, lr}
 832              		.cfi_restore 14
 833              		.cfi_restore 3
 834              		.cfi_def_cfa_offset 0
 835              	.LBB227:
 836              	.LBB224:
  23:Granulator.cpp **** Switch       button;
 837              		.loc 9 23 14 view .LVU234
 838 0020 FFF7FEBF 		b	__aeabi_atexit
 839              	.LVL34:
 840              	.L37:
 841              		.align	2
 842              	.L36:
 843 0024 00000000 		.word	.LANCHOR1
 844 0028 00000000 		.word	__dso_handle
 845 002c 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
 846 0030 00000000 		.word	_ZN5daisy6SwitchD1Ev
 847 0034 00000000 		.word	.LANCHOR2
 848              	.LBE224:
 849              	.LBE227:
 850              		.cfi_endproc
 851              	.LFE5345:
 853              		.section	.init_array,"aw",%init_array
 854              		.align	2
 855 0000 00000000 		.word	_GLOBAL__sub_I_patch(target1)
 856              		.global	buffer_r
 857              		.global	buffer_l
 858              		.global	grain_buffer_r
 859              		.global	grain_buffer_l
 860              		.global	grain
 861              		.global	button
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 37


 862              		.global	patch
 863              		.section	.bss._ZZ13AudioCallbackPKPKfPPfjE14sample_counter,"aw",%nobits
 864              		.align	2
 865              		.set	.LANCHOR5,. + 0
 868              	_ZZ13AudioCallbackPKPKfPPfjE14sample_counter:
 869 0000 00000000 		.space	4
 870              		.section	.bss._ZZ13AudioCallbackPKPKfPPfjE8interval,"aw",%nobits
 871              		.align	2
 872              		.set	.LANCHOR3,. + 0
 875              	_ZZ13AudioCallbackPKPKfPPfjE8interval:
 876 0000 00000000 		.space	4
 877              		.section	.bss._ZZ13AudioCallbackPKPKfPPfjE9write_pos,"aw",%nobits
 878              		.align	2
 879              		.set	.LANCHOR4,. + 0
 882              	_ZZ13AudioCallbackPKPKfPPfjE9write_pos:
 883 0000 00000000 		.space	4
 884              		.section	.bss.button,"aw",%nobits
 885              		.align	2
 886              		.set	.LANCHOR2,. + 0
 889              	button:
 890 0000 00000000 		.space	16
 890      00000000 
 890      00000000 
 890      00000000 
 891              		.section	.bss.grain,"aw",%nobits
 892              		.align	2
 893              		.set	.LANCHOR0,. + 0
 896              	grain:
 897 0000 00000000 		.space	32
 897      00000000 
 897      00000000 
 897      00000000 
 897      00000000 
 898              		.section	.bss.patch,"aw",%nobits
 899              		.align	2
 900              		.set	.LANCHOR1,. + 0
 903              	patch:
 904 0000 00000000 		.space	464
 904      00000000 
 904      00000000 
 904      00000000 
 904      00000000 
 905              		.section	.sdram_bss,"aw"
 906              		.align	2
 909              	buffer_r:
 910 0000 00000000 		.space	176400
 910      00000000 
 910      00000000 
 910      00000000 
 910      00000000 
 913              	buffer_l:
 914 2b110 00000000 		.space	176400
 914      00000000 
 914      00000000 
 914      00000000 
 914      00000000 
 917              	grain_buffer_r:
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 38


 918 56220 00000000 		.space	176400
 918      00000000 
 918      00000000 
 918      00000000 
 918      00000000 
 921              	grain_buffer_l:
 922 81330 00000000 		.space	176400
 922      00000000 
 922      00000000 
 922      00000000 
 922      00000000 
 923              		.text
 924              	.Letext0:
 925              		.file 13 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 926              		.file 14 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 927              		.file 15 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 928              		.file 16 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\lib\\g
 929              		.file 17 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 930              		.file 18 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 931              		.file 19 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 932              		.file 20 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 933              		.file 21 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 934              		.file 22 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 935              		.file 23 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 936              		.file 24 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 937              		.file 25 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 938              		.file 26 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 939              		.file 27 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 940              		.file 28 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 941              		.file 29 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 942              		.file 30 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 943              		.file 31 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 944              		.file 32 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 945              		.file 33 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 946              		.file 34 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 947              		.file 35 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 948              		.file 36 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 949              		.file 37 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 950              		.file 38 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 951              		.file 39 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 952              		.file 40 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 953              		.file 41 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 954              		.file 42 "../../libDaisy//src/daisy_core.h"
 955              		.file 43 "../../libDaisy//src/per/tim.h"
 956              		.file 44 "../../libDaisy//src/per/sai.h"
 957              		.file 45 "../../libDaisy//src/hid/ctrl.h"
 958              		.file 46 "../../libDaisy//src/util/wav_format.h"
 959              		.file 47 "../../libDaisy//src/dev/max11300.h"
 960              		.file 48 "../../libDaisy//src/per/gpio.h"
 961              		.file 49 "../../libDaisy//src/dev/sdram.h"
 962              		.file 50 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\lib\\g
 963              		.file 51 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 964              		.file 52 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 965              		.file 53 "../../DaisySP//Source/Control/adenv.h"
 966              		.file 54 "../../DaisySP//Source/Utility/dsp.h"
 967              		.file 55 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
 968              		.file 56 "c:\\users\\leosc\\documents\\daisytoolchain-0.3.3\\daisytoolchain-0.3.3\\windows\\arm-no
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 39


 969              		.file 57 "../../libDaisy//src/dev/sr_595.h"
 970              		.file 58 "<built-in>"
ARM GAS  C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s 			page 40


DEFINED SYMBOLS
                            *ABS*:00000000 Granulator.cpp
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:17     .text._ZN5daisy6SwitchD2Ev:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:26     .text._ZN5daisy6SwitchD2Ev:00000000 _ZN5daisy6SwitchD2Ev
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:26     .text._ZN5daisy6SwitchD2Ev:00000000 _ZN5daisy6SwitchD1Ev
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:43     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:51     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD2Ev
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:51     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD1Ev
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:109    .text._Z17calculateEnvelopeii:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:117    .text._Z17calculateEnvelopeii:00000000 _Z17calculateEnvelopeii
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:218    .text._Z17calculateEnvelopeii:00000050 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:227    .text._Z13AudioCallbackPKPKfPPfj:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:235    .text._Z13AudioCallbackPKPKfPPfj:00000000 _Z13AudioCallbackPKPKfPPfj
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:577    .text._Z13AudioCallbackPKPKfPPfj:0000016c $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:913    .sdram_bss:0002b110 buffer_l
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:909    .sdram_bss:00000000 buffer_r
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:917    .sdram_bss:00056220 grain_buffer_r
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:921    .sdram_bss:00081330 grain_buffer_l
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:594    .text.startup.main:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:602    .text.startup.main:00000000 main
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:666    .text.startup.main:0000003c $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:676    .text.startup._GLOBAL__sub_I_patch:00000000 $t
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:683    .text.startup._GLOBAL__sub_I_patch:00000000 _GLOBAL__sub_I_patch
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:843    .text.startup._GLOBAL__sub_I_patch:00000024 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:854    .init_array:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:896    .bss.grain:00000000 grain
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:889    .bss.button:00000000 button
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:903    .bss.patch:00000000 patch
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:864    .bss._ZZ13AudioCallbackPKPKfPPfjE14sample_counter:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:868    .bss._ZZ13AudioCallbackPKPKfPPfjE14sample_counter:00000000 _ZZ13AudioCallbackPKPKfPPfjE14sample_counter
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:871    .bss._ZZ13AudioCallbackPKPKfPPfjE8interval:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:875    .bss._ZZ13AudioCallbackPKPKfPPfjE8interval:00000000 _ZZ13AudioCallbackPKPKfPPfjE8interval
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:878    .bss._ZZ13AudioCallbackPKPKfPPfjE9write_pos:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:882    .bss._ZZ13AudioCallbackPKPKfPPfjE9write_pos:00000000 _ZZ13AudioCallbackPKPKfPPfjE9write_pos
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:885    .bss.button:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:892    .bss.grain:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:899    .bss.patch:00000000 $d
C:\Users\leosc\AppData\Local\Temp\cc4w13Qx.s:906    .sdram_bss:00000000 $d
                           .group:00000000 _ZN5daisy6SwitchD5Ev
                           .group:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD5Ev

UNDEFINED SYMBOLS
_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
_ZN5daisy6Switch8DebounceEv
_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
_ZN5daisy8patch_sm12DaisyPatchSM10WriteCvOutEif
_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
_ZN5daisy6Switch4InitE12dsy_gpio_pinf
_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
_ZN5daisy8patch_sm12DaisyPatchSM2D5E
__aeabi_atexit
__dso_handle
